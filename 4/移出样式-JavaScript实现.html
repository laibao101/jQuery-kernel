<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
.red {
	color:red;
}
.bold {
	font-weight:bold;
}
.italic {
	font-style:italic;
}
</style>
<script type="text/javascript" >

var DOMextend = function(name, fn){
	if( ! document.all)
		eval("HTMLElement.prototype." + name + " = fn");
	else{
		var _createElement = document.createElement;
		document.createElement = function(tag){
			var _elem = _createElement(tag);
			eval("_elem." + name + " = fn");
			return _elem;
		}
		var _getElementById = document.getElementById;
		document.getElementById = function(id){
			var _elem = _getElementById(id);
			eval("_elem." + name + " = fn");
			return _elem;
		}
		var _getElementsByTagName = document.getElementsByTagName;
		document.getElementsByTagName = function(tag){
			var _arr = _getElementsByTagName(tag);
			for(var _elem = 0; _elem < _arr.length; _elem ++ )
			eval("_arr[_elem]." + name + " = fn");
			return _arr;
		}
	}
};


DOMextend("removeClass",function(s){
	var _this = this;
	if(!s)
		this.setAttribute("class","");
	else {
		var a = s.split(" ");
		var attr = _this.getAttribute("class");
		for(var i=0; i<a.length; i++){
			attr = attr.replace(a[i],"");
		}
		_this.setAttribute("class",attr);
	}
	return _this;
})


window.onload = function(){
	var p = document.getElementsByTagName("p")[0];
	var input = document.getElementsByTagName("input");
	input[0].onclick = function(){
		var a = p.getAttribute("class");
		if(a){
			p.setAttribute("class", a + " red");
		}
		else
		{
			p.setAttribute("class", "red");
		}
	}
	input[1].onclick = function(){
		var a = p.getAttribute("class");
		if(a){
			p.setAttribute("class", a + " bold");
		}
		else
		{
			p.setAttribute("class", "bold");
		}			
	}	
	input[2].onclick = function(){
		var a = p.getAttribute("class");
		if(a){
			p.setAttribute("class", a + " italic");
		}
		else
		{
			p.setAttribute("class", "italic");
		}			
	}	
	
	input[3].onclick = function(){
		p.removeClass("red");			
	}		
	input[4].onclick = function(){
		p.removeClass("red bold");			
	}	
	input[5].onclick = function(){
		p.removeClass();			
	}		
	
	
	
}

</script>
</head>
<body>

<p>段落文本</p>
<input type="button" value="红色"  />
<input type="button" value="加粗"  />
<input type="button" value="斜体"  /><br />
<input type="button" value="移出红色类样式"  /><br />
<input type="button" value="移出红色和加粗类样式"  /><br />
<input type="button" value="移出全部类样式"   />


</body>
</html>

